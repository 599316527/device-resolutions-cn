var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function c(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function v(){return u("")}let h;function m(e){h=e}const p=[],y=Promise.resolve();let g=!1;const w=[],k=[],$=[];function b(e){k.push(e)}function _(){const e=new Set;do{for(;p.length;){const e=p.shift();m(e),N(e.$$)}for(;w.length;)w.shift()();for(;k.length;){const t=k.pop();e.has(t)||(t(),e.add(t))}}while(p.length);for(;$.length;)$.pop()();g=!1}function N(e){e.fragment&&(e.update(e.dirty),o(e.before_render),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_render.forEach(b))}let x;function C(e,n){const r=n.token={};function c(e,c,i,a){if(n.token!==r)return;n.resolved=i&&{[i]:a};const s=t(t({},n.ctx),n.resolved),l=e&&(n.current=e)(s);n.block&&(n.blocks?n.blocks.forEach((e,t)=>{t!==c&&e&&(x={remaining:0,callbacks:[]},function(e){x.callbacks.push(e)}(()=>{e.d(1),n.blocks[t]=null}),e.o(1),x.remaining||o(x.callbacks))}):n.block.d(1),l.c(),l.i&&l.i(1),l.m(n.mount(),n.anchor),_()),n.block=l,n.blocks&&(n.blocks[c]=l)}if((i=e)&&"function"==typeof i.then){if(e.then(e=>{c(n.then,1,n.value,e)},e=>{c(n.catch,2,n.error,e)}),n.current!==n.pending)return c(n.pending,0),!0}else{if(n.current!==n.then)return c(n.then,1,n.value,e),!0;n.resolved={[n.value]:e}}var i}function L(e,t){e.d(1),t.delete(e.key)}function z(e,t){e.$$.dirty||(p.push(e),g||(g=!0,y.then(_)),e.$$.dirty=r()),e.$$.dirty[t]=!0}function j(t,i,a,s,l,d){const u=h;m(t);const f=i.props||{},v=t.$$={fragment:null,ctx:null,props:d,update:e,not_equal:l,bound:r(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:null};let p=!1;var y;v.ctx=a?a(t,f,(e,n)=>{v.ctx&&l(v.ctx[e],v.ctx[e]=n)&&(v.bound[e]&&v.bound[e](n),p&&z(t,e))}):f,v.update(),p=!0,o(v.before_render),v.fragment=s(v.ctx),i.target&&(i.hydrate?v.fragment.l((y=i.target,Array.from(y.childNodes))):v.fragment.c(),i.intro&&t.$$.fragment.i&&t.$$.fragment.i(),function(e,t,r){const{fragment:i,on_mount:a,on_destroy:s,after_render:l}=e.$$;i.m(t,r),b(()=>{const t=a.map(n).filter(c);s?s.push(...t):o(t),e.$$.on_mount=[]}),l.forEach(b)}(t,i.target,i.anchor),_()),m(u)}class D{$destroy(){var t,n;n=!0,(t=this).$$&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={}),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function E(e,t,n){const r=Object.create(e);return r.device=t[n],r}function M(t){var n,r,o,c=t.error.message;return{c(){n=d("p"),r=u("Something went wrong: "),o=u(c)},m(e,t){s(e,n,t),a(n,r),a(n,o)},p:e,d(e){e&&l(n)}}}function S(e){var t,n,r,o,c,i,u,v,h=[],m=new Map,p=e.devices;const y=e=>e.device.jdid;for(var g=0;g<p.length;g+=1){let t=E(e,p,g),n=y(t);m.set(n,h[g]=O(n,t))}return{c(){for(t=d("div"),n=d("div"),r=d("input"),o=f(),c=d("div"),(i=d("div")).innerHTML='<div class="brand svelte-3wyzai">品牌</div>\n\t\t\t\t\t\t<div class="name">产品</div>\n\t\t\t\t\t\t<div class="resolution svelte-3wyzai">分辨率</div>\n\t\t\t\t\t\t<div class="jump svelte-3wyzai"></div>',u=f(),g=0;g<h.length;g+=1)h[g].c();var a,s,l;a=r,s="type",null==(l="search")?a.removeAttribute(s):a.setAttribute(s,l),r.placeholder="搜索",r.className="svelte-3wyzai",n.className="keyword svelte-3wyzai",i.className="device thead svelte-3wyzai",c.className="devices",t.className="content",v=function(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}(r,"input",e.input_input_handler)},m(l,d){for(s(l,t,d),a(t,n),a(n,r),r.value=e.keyword,a(t,o),a(t,c),a(c,i),a(c,u),g=0;g<h.length;g+=1)h[g].m(c,null)},p(e,t){e.keyword&&(r.value=t.keyword);const n=t.devices;h=function(e,t,n,r,o,c,i,a,s,l,d,u){let f=e.length,v=c.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const p=[],y=new Map,g=new Map;for(h=v;h--;){const e=u(o,c,h),a=n(e);let s=i.get(a);s?r&&s.p(t,e):(s=l(a,e)).c(),y.set(a,p[h]=s),a in m&&g.set(a,Math.abs(h-m[a]))}const w=new Set,k=new Set;function $(e){e.i&&e.i(1),e.m(a,d),i.set(e.key,e),d=e.first,v--}for(;f&&v;){const t=p[v-1],n=e[f-1],r=t.key,o=n.key;t===n?(d=t.first,f--,v--):y.has(o)?!i.has(r)||w.has(r)?$(t):k.has(o)?f--:g.get(r)>g.get(o)?(k.add(r),$(t)):(w.add(o),f--):(s(n,i),f--)}for(;f--;){const t=e[f];y.has(t.key)||s(t,i)}for(;v;)$(p[v-1]);return p}(h,e,y,1,t,n,m,c,L,O,null,E)},d(e){for(e&&l(t),g=0;g<h.length;g+=1)h[g].d();v()}}}function A(t){var n,r,o,c,i,v,h,m,p,y,g,w,k,$,b=t.device.brand,_=t.device.name,N=t.device.resolution;return{c(){n=d("div"),r=d("div"),o=u(b),c=f(),i=d("div"),v=u(_),h=f(),m=d("div"),p=u(N),y=f(),g=d("div"),w=d("a"),k=u("🔗"),$=f(),r.className="brand svelte-3wyzai",i.className="name",m.className="resolution svelte-3wyzai",w.href="https://item.jd.com/"+t.device.jdid+".html",w.target="_blank",g.className="jump svelte-3wyzai",n.className="device svelte-3wyzai"},m(e,t){s(e,n,t),a(n,r),a(r,o),a(n,c),a(n,i),a(i,v),a(n,h),a(n,m),a(m,p),a(n,y),a(n,g),a(g,w),a(w,k),a(n,$)},p:e,d(e){e&&l(n)}}}function O(e,t){var n,r,o=(!t.keyword||t.device.brand.toLowerCase().includes(t.keyword.toLowerCase())||t.device.name.toLowerCase().includes(t.keyword.toLowerCase()))&&A(t);return{key:e,first:null,c(){n=v(),o&&o.c(),r=v(),this.first=n},m(e,t){s(e,n,t),o&&o.m(e,t),s(e,r,t)},p(e,t){!t.keyword||t.device.brand.toLowerCase().includes(t.keyword.toLowerCase())||t.device.name.toLowerCase().includes(t.keyword.toLowerCase())?o?o.p(e,t):((o=A(t)).c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(e){e&&l(n),o&&o.d(e),e&&l(r)}}}function T(t){var n;return{c(){(n=d("div")).innerHTML="<p>Downloading devices data</p>",n.className="loading"},m(e,t){s(e,n,t)},p:e,d(e){e&&l(n)}}}function H(n){var r,o,c,i;let a={ctx:n,current:null,pending:T,then:S,catch:M,value:"devices",error:"error"};return C(i=n.fetchingDevicesData,a),{c(){(r=d("h1")).textContent="Device Resolutions CN",o=f(),c=v(),a.block.c(),r.className="svelte-3wyzai"},m(e,t){s(e,r,t),s(e,o,t),s(e,c,t),a.block.m(e,a.anchor=t),a.mount=(()=>c.parentNode),a.anchor=c},p(e,r){n=r,a.ctx=n,i!==(i=n.fetchingDevicesData)&&C(i,a)||a.block.p(e,t(t({},n),a.resolved))},i:e,o:e,d(e){e&&(l(r),l(o),l(c)),a.block.d(e),a=null}}}function q(e,t,n){let r="",o=fetch("devices.json").then(e=>e.json());return{keyword:r,fetchingDevicesData:o,input_input_handler:function(){r=this.value,n("keyword",r)}}}return new class extends D{constructor(e){super(),j(this,e,q,H,i,[])}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
